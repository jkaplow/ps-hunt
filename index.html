<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>PS Mid-Century Hunt</title>
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Lexend+Deca:wght@400;700&family=Righteous&display=swap" rel="stylesheet">
    <style>
        :root { --mcm-orange: #f05a28; --pool-blue: #00afcb; --desert-sand: #f3e5ab; --white: #ffffff; }
        body { font-family: 'Lexend Deca', sans-serif; background: var(--desert-sand); margin: 0; padding: 15px; padding-bottom: 120px; -webkit-tap-highlight-color: transparent; }
        h1 { font-family: 'Pacifico', cursive; color: var(--mcm-orange); font-size: 2.2rem; text-align: center; margin: 10px 0; text-shadow: 2px 2px white; transform: rotate(-1deg); }
        .section-title { font-family: 'Righteous', cursive; font-size: 1.1rem; color: #444; text-transform: uppercase; margin: 25px 0 10px; border-bottom: 3px solid var(--pool-blue); display: inline-block; }
        .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
        .card { background: white; border-radius: 12px; overflow: hidden; box-shadow: 0 4px 8px rgba(0,0,0,0.1); border: 4px solid transparent; display: flex; flex-direction: column; min-height: 140px; cursor: pointer; }
        .card.checked { border-color: var(--pool-blue); background: #e0f7fa; }
        .card.checked img { filter: grayscale(100%) opacity(0.3); }
        .card img { width: 100%; height: 110px; object-fit: cover; background: #ddd; display: block; }
        .card-label { padding: 8px; font-size: 0.8rem; font-weight: 700; text-align: center; flex-grow: 1; display: flex; align-items: center; justify-content: center; color: #222; }
        .landmark { grid-column: span 2; flex-direction: row; min-height: 90px; }
        .landmark img { width: 100px; height: 90px; }
        .door-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 8px; }
        .door-btn { border: none; padding: 12px 5px; border-radius: 10px; color: white; font-weight: 800; text-shadow: 1px 1px 2px black; font-size: 0.75rem; box-shadow: 0 4px 0 rgba(0,0,0,0.2); }
        .door-btn span { display: block; font-size: 1.4rem; }
        .reset-container { position: fixed; bottom: 0; left: 0; right: 0; padding: 15px; background: rgba(243, 229, 171, 0.9); backdrop-filter: blur(5px); z-index: 100; }
        .reset-btn { width: 100%; padding: 12px; background: #444; color: white; border: none; border-radius: 50px; font-weight: bold; text-transform: uppercase; }
    </style>
</head>
<body>
    <h1>ðŸŒ´ PS Mid-Century Modern Hunt</h1>
    <h3> By Jeff Kaplow</h3>
    <div class="section-title">Historic Landmarks</div>
    <div id="landmark-grid" class="grid"></div>
    <div class="section-title">Architectural Features</div>
    <div id="feature-grid" class="grid"></div>
    <div class="section-title">Door Tally</div>
    <div id="door-grid" class="door-grid"></div>
    <div class="reset-container"><button class="reset-btn" onclick="resetAll()">Reset Hunt</button></div>

    <script>
        const landmarks = [
            { id: 'l1', n: "Kaufmann House", i: "kaufmann.jpg", d: "470 W Chino Canyon", c: "#f05a28" },
            { id: 'l2', n: "PS Visitor Center", i: "visitors.jpg", d: "2901 N Palm Canyon", c: "#00afcb" },
            { id: 'l3', n: "House of Tomorrow", i: "houseoftomorrow.jpg", d: "1350 Ladera Cir", c: "#ffd200" },
            { id: 'l4', n: "Elrod House", i: "elrod.jpg", d: "2175 Southridge Dr", c: "#f4a7b9" },
            { id: 'l5', n: "Bank of America", i: "bank.jpg", d: "588 S Palm Canyon", c: "#c41230" },
            { id: 'l6', n: "Aerial Tramway", i: "tramway.jpg", d: "1 Tramway Rd", c: "#32cd32" }
        ];
        const features = [
            { id: 'f1', n: "Butterfly Roof", i: "butterfly.jpg", c: "#00afcb" },
            { id: 'f2', n: "Swiss Miss", i: "swissmiss.jpg", c: "#f05a28" },
            { id: 'f3', n: "Breeze Blocks", i: "breezeblocks.jpg", c: "#ffd200" },
            { id: 'f4', n: "Clerestory", i: "clerestory.jpg", c: "#f4a7b9" },
            { id: 'f5', n: "Post & Beam", i: "postandbeam.jpg", c: "#32cd32" },
            { id: 'f6', n: "X-Bracing", i: "xbracing.jpg", c: "#c41230" },
            { id: 'f7', n: "Open Carport", i: "carport.jpg", c: "#00afcb" },
            { id: 'f8', n: "Desert Landscape", i: "desertlandscaping.jpg", c: "#f05a28" },
            { id: 'f9', n: "Natural Rock", i: "rock.jpg", c: "#00afcb" },
            { id: 'f10', n: "Concrete Structure", i: "concrete.jpg", c: "#f05a28" },
            { id: 'f11', n: "Curved Columns", i: "curves.jpg", c: "#ffd200" },
            { id: 'f12', n: "Vertical Louvers", i: "louver.jpg", c: "#f4a7b9" },
        ];

        function init() {
            const lGrid = document.getElementById('landmark-grid');
            const fGrid = document.getElementById('feature-grid');
            const dGrid = document.getElementById('door-grid');

            const createCard = (item, isLandmark) => {
                const card = document.createElement('div');
                card.className = `card ${isLandmark ? 'landmark' : ''} ${localStorage.getItem(item.id) ? 'checked' : ''}`;
                
                // Use a relative path specifically for GitHub Pages
                const img = document.createElement('img');
                img.src = './' + item.i; 
                img.onerror = () => {
                    img.style.display = 'none';
                    card.style.backgroundColor = item.c;
                };

                card.appendChild(img);
                card.innerHTML += `<div class="card-label"><div><strong>${item.n}</strong>${isLandmark ? '<br><small>'+item.d+'</small>' : ''}</div></div>`;
                card.onclick = () => {
                    const isChecked = card.classList.toggle('checked');
                    isChecked ? localStorage.setItem(item.id, '1') : localStorage.removeItem(item.id);
                };
                return card;
            };

            landmarks.forEach(item => lGrid.appendChild(createCard(item, true)));
            features.forEach(item => fGrid.appendChild(createCard(item, false)));

            ['Orange', 'Pink', 'Turquoise', 'Yellow', 'Red', 'Lime'].forEach((name, i) => {
                const colors = ['#f05a28', '#f4a7b9', '#00afcb', '#ffd200', '#c41230', '#32cd32'];
                const btn = document.createElement('button');
                btn.className = 'door-btn';
                btn.style.backgroundColor = colors[i];
                let count = parseInt(localStorage.getItem('door-' + name)) || 0;
                btn.innerHTML = `${name}<span id="d-${name}">${count}</span>`;
                btn.onclick = (e) => { e.stopPropagation(); count++; localStorage.setItem('door-' + name, count); document.getElementById('d-' + name).innerText = count; };
                dGrid.appendChild(btn);
            });
        }
        function resetAll() { if(confirm('Reset all scores?')) { localStorage.clear(); location.reload(); } }
        window.onload = init;
    </script>
</body>
</html>
